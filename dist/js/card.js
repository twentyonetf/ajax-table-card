!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),t.exports=n(6)},function(t,e,n){Nova.booting(function(t,e,a){t.component("ajax-table-card",n(2))})},function(t,e,n){var a=n(3)(n(4),n(5),!1,null,null,null);t.exports=a.exports},function(t,e){t.exports=function(t,e,n,a,r,s){var i,o=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(i=t,o=t.default);var l,d="function"==typeof o?o.options:o;if(e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),r&&(d._scopeId=r),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=l):a&&(l=a),l){var u=d.functional,h=u?d.render:d.beforeCreate;u?(d._injectStyles=l,d.render=function(t,e){return l.call(e),h(t,e)}):d.beforeCreate=h?[].concat(h,l):[l]}return{esModule:i,exports:o,options:d}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["card"],data:function(){return{title:this.card.title,cache:this.card.cache,slug:this.card.slug,link:this.card.link,header:this.card.header,linkable:this.card.linkable,expanded:this.card.expanded,countable:this.card.countable,rows:[],since:null,loading:!0}},mounted:function(){this.fetchCachedData()},methods:{fetchCachedData:function(){var t=this;this.loading=!0,Nova.request().get("/nova-vendor/ajax-table-card/cache/"+this.slug).then(function(e){var n=e.data;t.rows=n.rows,t.since=n.since,t.loading=!1,0===n.length&&t.fetchFreshData()}).catch(function(){t.$toasted.show("Something went wrong fetching data!",{type:"error"})})},fetchFreshData:function(){var t=this;this.loading=!0,Nova.request().get(this.link).then(function(e){var n=e.data;t.rows=n,t.loading=!1,Nova.request().post("/nova-vendor/ajax-table-card/cache",{data:n,slug:t.slug,cache:t.cache}).then(function(e){var n=e.data;t.since=n}).catch(function(){t.$toasted.show("Something went wrong caching data!",{type:"error"})})}).catch(function(){t.$toasted.show("Something went wrong fetching fresh data!",{type:"error"})})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",{staticClass:"flex flex-col h-auto"},[n("div",{staticClass:"flex flex-wrap"},[n("div",{staticClass:"w-5/6"},[n("h1",{staticClass:"py-6 text-90 font-normal text-2xl text-left pl-4"},[t._v("\n                "+t._s(t.title)+"\n                "),t.countable?n("span",{staticClass:"text-sm text-primary"},[t._v("("+t._s(t.rows.length)+")")]):t._e(),t._v(" "),n("span",{staticClass:"text-xs text-primary block mt-2"},[t._v("Cached since: "+t._s(t.since))])])]),t._v(" "),n("div",{staticClass:"flex w-1/6 text-center"},[n("a",{staticClass:"w-full cursor-pointer py-6 px-4 text-primary",attrs:{title:"Refresh Data"},on:{click:t.fetchFreshData}},[n("icon",{attrs:{type:"refresh",width:"22",height:"18","view-box":"0 0 22 22"}})],1)])]),t._v(" "),n("loading-view",{attrs:{loading:t.loading}},[t.expanded?n("div",{staticClass:"overflow-hidden overflow-x-auto relative"},[n("table",{staticClass:"table w-full"},[t.header&&t.header.length>0?n("thead",[n("tr",t._l(t.header,function(e,a){return n("th",{key:a,staticClass:"text-center",attrs:{id:a}},[n("span",{staticClass:"whitespace-no-wrap"},[t._v("\n            "+t._s(e)+"\n          ")])])}),0)]):t._e(),t._v(" "),n("tbody",t._l(t.rows,function(e,a){return n("tr",{key:a},t._l(e,function(a,r){return n("td",{staticClass:"text-center"},[t.linkable&&r===Object.keys(e).length-1?n("span",[n("router-link",{staticClass:"cursor-pointer text-70 hover:text-primary mr-3",attrs:{to:a,title:t.__("View")}},[n("icon",{attrs:{type:"view",width:"22",height:"18","view-box":"0 0 22 16"}})],1)],1):n("span",{staticClass:"whitespace-no-wrap"},[t._v("\n                        "+t._s(a)+"\n                        ")])])}),0)}),0)]),t._v(" "),n("div",{staticClass:"text-center"},[n("button",{staticClass:"text-xs text-primary",on:{click:function(e){t.expanded=!1}}},[t._v("Click Here to Hide")])])]):n("div",{staticClass:"text-center"},[n("button",{staticClass:"text-xs text-primary",on:{click:function(e){t.expanded=!0}}},[t._v("Click Here to Expand")])]),t._v(" "),n("div",{staticClass:"bg-20 rounded-b-lg flex justify-between"},[n("div"),t._v(" "),n("div",[n("a",{staticClass:"btn btn-link py-3 px-4 text-80 cursor-pointer",on:{click:t.fetchFreshData}},[t._v("Click Here to Refresh")])])])])],1)},staticRenderFns:[]}},function(t,e){}]);